:root{
  --bg:#000;
  --ink:#fff;
  --line:#000;

  --font-body: ui-monospace, SFMono-Regular, Menlo, Consolas, "Liberation Mono", monospace;
  --font-heading: var(--font-body);
}

:root[data-theme="light"]{
  --bg:#fff;
  --ink:#000;
  --line:#000;
}

:root[data-theme="spooky"]{
  --bg:#ff6a00;
  --ink:#ffffff;
  --line:#ffffff;
  --font-heading: "Creepster", var(--font-body);
}

a { color: var(--ink); }
a:hover { opacity: .85; }


*{box-sizing:border-box}
html,body{height:100%}

body{
  margin:0;
  background: var(--bg);
  color: var(--ink);
  font-family: var(--font-body);
  line-height:1.4;
  -webkit-font-smoothing: none; 
}
h1, h2, .site-title{ font-family: var(--font-heading);}

.wrap{
    max-width:880px;
    margin:80px auto 40px;
    padding:0 16px;
}

.topbar{
  position:sticky; top:0; z-index:10;
  display:flex; align-items:center; justify-content:space-between;
  padding:12px 16px; border-bottom:2px solid var(--ink);
  background:var(--bg);
}
.tabs{display:flex; gap:12px}
.tab{color:var(--ink); text-decoration:none; border:2px solid var(--ink); padding:4px 8px}
.tab:hover{background:var(--ink); color:var(--bg)}
.invert-btn{
  appearance:none; background:transparent; color:var(--ink);
  border:2px solid var(--ink); padding:6px 10px; cursor:pointer; font-weight:700; text-transform:lowercase;
}

.cards{ display:grid; grid-template-columns:repeat(auto-fit,minmax(220px,1fr)); gap:12px; margin-top:8px }
.card{ border:2px solid var(--ink); padding:10px }
.repo-title{ font-weight:700; margin-bottom:4px; word-break:break-word }
.repo-desc{ opacity:.8; margin-bottom:6px }
.repo-meta{ display:flex; gap:10px; opacity:.7; font-size:12px }

.block-form{ border:2px solid var(--ink); padding:12px }
.block-form .row{ display:grid; grid-template-columns:120px 1fr; gap:10px; margin:8px 0 }
.block-form input, .block-form textarea{
    background: var(--bg);
    color: var(--ink);
    border: 2px solid var(--ink);
    padding: 6px;
    font-family: inherit;
    resize: vertical;
}

.art-grid{display:grid; grid-template-columns:repeat(auto-fit,minmax(160px,1fr)); gap:12px; margin-top:8px}
.art-card{ border:2px solid var(--ink); padding:6px }
.art-card img{ display:block; width:100%; height:auto }
.art-card figcaption{ font-size: 12px; opacity: .7; margin-top: 4px; }

.muted{ opacity: .7; }

.site-title{font-weight:800; letter-spacing:.03em}
.invert-btn{
  appearance:none; background:transparent; color:var(--ink);
  border:2px solid var(--ink); padding:6px 10px; cursor:pointer;
  font-weight:700; text-transform:lowercase;
}

h1{margin:0 0 8px 0; font-size:clamp(22px,4.5vw,36px)}
h2{margin:24px 0 8px 0; font-size:18px; text-transform:lowercase; border-bottom:2px solid var(--ink); padding-bottom:4px}

.row{
  display: grid;
  grid-template-columns: 120px 1fr;
  gap: 10px;
  padding: 10px 0;
  border-bottom: 1px solid var(--ink);
}
.row:last-child{ border-bottom: 0; }

.label{
  opacity:.7
}
.value{
  word-break: break-word;
}

.repeat-line{
  white-space: nowrap;            
  overflow: hidden;                            
}
.repeat-item{
  display: inline;
}

.ticker{
  border:2px solid var(--ink);
  padding: 0;
  margin: 16px 0;
}

.ticker-head{
  border-bottom:2px solid var(--ink);
  padding: 6px 10px;
  font-weight: 700;
  text-transform: lowercase;
}

.ticker-viewport{
  position: relative;
  overflow: hidden;
  white-space: nowrap;
  line-height: 36px;
  height: 36px;
}

.ticker-track{
  display: inline-block;
  padding-right: 40px;
  animation: ticker-x var(--ticker-speed, 18s) steps(60, end) infinite;
  will-change: transform;
}

.ticker .item{
  display: inline-block;
  padding: 0 10px;
}

.ticker .sep{
  display: inline-block;
  opacity: .7;
  padding: 0 8px;
}

@keyframes ticker-x{
  from { transform: translateX(0); }
  to { transform: translateX(-100%); }
}

@media (prefers-reduced-motion: reduce){
  .ticker-track{ animation: none; }
}

.site-footer{
  margin: 32px auto 24px;
  max-width: 880px;
  padding: 8px 16px;
  border-top: 2px solid var(--ink);
  font-size: 14px;
  display: flex;
  align-items: center;
  justify-content: flex-start;
}

.boot{
  position: fixed; inset: 0; z-index: 9999;
  background: var(--bg, #000); color: var(--ink, #fff);
  display: grid; place-items: center;
}
.boot-lines{
  margin: 0;
  font: 16px/1.5 ui-monospace, SFMono-Regular, Menlo, Consolas, "Liberation Mono", monospace;
  white-space: pre; padding: 16px; border: 2px solid var(--ink);
}
.boot--hide{ display: none; }

.flash{
  position: fixed; inset: 0; z-index: 9998; /* under boot, above page */
  background: #fff; opacity: 0; pointer-events: none;
}
.flash--go{ animation: flash-pop 220ms steps(2,end) 1 both; }
@keyframes flash-pop{
  0%{ opacity: 0; }
  40%{ opacity: 1; }
  100%{ opacity: 0; }
}

@keyframes bar-left-out{
  from{ transform: translateX(-1px); }
  to{   transform: translateX(calc(-50vw - 1px)); }
}
@keyframes bar-right-out{
  from{ transform: translateX(1px); }
  to{   transform: translateX(calc(50vw + 1px)); }
}

@media (prefers-reduced-motion: reduce){
  .flash--go{ animation: none; opacity: 0; }
  .reveal--go .bar-left, .reveal--go .bar-right{ animation: none; }
}

.type-caret::after{
  content:"â–®";
  margin-left:4px;
  animation: blink 1s steps(1,end) infinite;
}
@keyframes blink{ 50%{ opacity:0; } }

.reveal{
  position: fixed;
  inset: 0;
  z-index: 9997;
  pointer-events: none;
  display: grid;
  place-items: center;
  opacity: 0;
}
.reveal--go{ opacity: 1; }

.bar{
  position: absolute; top: 0; bottom: 0; width: 2px; background: var(--ink, #fff);
}
.bar-left{ left: 50%; transform: translateX(-1px); }
.bar-right{ left: 50%; transform: translateX(1px); }

.reveal--go .bar-left{ animation: bar-left-out 300ms steps(24, end) 1 forwards; }
.reveal--go .bar-right{ animation: bar-right-out 300ms steps(24, end) 1 forwards; }

@keyframes bar-left-out{  from{ transform: translateX(-1px); } to{ transform: translateX(calc(-50vw - 1px)); } }
@keyframes bar-right-out{ from{ transform: translateX( 1px); } to{ transform: translateX(calc( 50vw + 1px)); } }

.status-wrap { display:grid; place-items:center; margin-block: clamp(2rem, 6vh, 8rem); }
.status {
  border: 2px solid var(--ink);
  background: var(--bg);
  color: var(--ink);
  padding: 8px 10px;
  max-width: 60ch;
  font-size: 12px;
  line-height: 1.3;
  white-space: nowrap;
  position: relative;
}
.status .tag { font-weight: 700; }
.status .muted { opacity: .75; }
.status .x {
  position: absolute; top: -10px; right: -10px;
  width: 22px; height: 22px; line-height: 20px; text-align: center;
  border: 2px solid var(--ink); background: var(--bg); color: var(--ink);
  font: inherit; cursor: pointer;
}

:root[data-theme="spooky"] body > *{
  position: relative;
  z-index: 1;
}

:root[data-theme="spooky"] body::before,
:root[data-theme="spooky"] body::after{
  content:"";
  position: fixed;
  inset: 0;
  pointer-events: none;
  z-index: 0;
}

:root[data-theme="spooky"] body::before{
  opacity: .12;
  background-image: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 80 40'%3E%3Cpath fill='%23ffffff' d='M12 18c3-6 9-6 12 0c4-3 9-3 13 0c3-6 9-6 12 0l-5 2l-6-1l-5 2l-6-1z'/%3E%3Cpath fill='%23ffffff' d='M52 30c3-6 9-6 12 0c4-3 9-3 13 0c3-6 9-6 12 0l-5 2l-6-1l-5 2l-6-1z'/%3E%3C/svg%3E");
  background-size: 160px 80px;
  background-repeat: repeat;
  animation: bats-pan 40s linear infinite;
  mix-blend-mode: soft-light;
}

:root[data-theme="spooky"] body::after{
  background:
    radial-gradient(120px 120px at 0 0, rgba(255,255,255,.18), transparent 60%),
    radial-gradient(160px 160px at 100% 0, rgba(255,255,255,.16), transparent 60%),
    radial-gradient(140px 140px at 0 100%, rgba(255,255,255,.14), transparent 60%),
    radial-gradient(180px 180px at 100% 100%, rgba(255,255,255,.12), transparent 60%),
    radial-gradient(120% 120% at 50% 50%, transparent 55%, rgba(0,0,0,.18) 100%);
}

@keyframes bats-pan{
  from{ background-position: 0 0; }
  to  { background-position: 800px 200px; }
}

:root[data-theme="spooky"] h1,
:root[data-theme="spooky"] h2{
  text-shadow:
    0 0 6px rgba(255,255,255,.35),
    0 0 18px rgba(255,255,255,.18);
  animation: candle 3.2s infinite ease-in-out;
}

@keyframes candle{
  0%, 100% { opacity: 1; }
  8%  { opacity: .92; text-shadow: 0 0 7px rgba(255,255,255,.40), 0 0 22px rgba(255,255,255,.20); }
  11% { opacity: .78; }
  14% { opacity: .98; }
  38% { opacity: .90; }
  42% { opacity: .75; text-shadow: 0 0 10px rgba(255,255,255,.45), 0 0 26px rgba(255,255,255,.25); }
  55% { opacity: .96; }
  73% { opacity: .88; }
}

@media (prefers-reduced-motion: reduce){
  :root[data-theme="spooky"] body::before{ animation: none; }
  :root[data-theme="spooky"] h1,
  :root[data-theme="spooky"] h2{ animation: none; }
}

:root[data-theme="spooky"] body{
  cursor: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='24' height='24' viewBox='0 0 24 24'%3E%3Cpath fill='%23fff' stroke='%23000' stroke-width='1' d='M12 3c-3.3 0-6 2.7-6 6v9c0 .6.4 1 1 1 .8 0 1.2-.6 1.8-1.2.6-.7 1.3-1.5 2.2-1.5s1.6.8 2.2 1.5c.6.7 1.1 1.2 1.8 1.2s1-.4 1-1V9c0-3.3-2.7-6-6-6z'/%3E%3Ccircle cx='9' cy='10' r='1.5' fill='%23000'/%3E%3Ccircle cx='15' cy='10' r='1.5' fill='%23000'/%3E%3C/svg%3E") 12 12, auto;
}

:root[data-theme="spooky"] a,
:root[data-theme="spooky"] button,
:root[data-theme="spooky"] .tab,
:root[data-theme="spooky"] .invert-btn {
  cursor: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='24' height='24' viewBox='0 0 24 24'%3E%3Cpath fill='%23fff' stroke='%23000' stroke-width='1' d='M12 3c-3.3 0-6 2.7-6 6v9c0 .6.4 1 1 1 .8 0 1.2-.6 1.8-1.2.6-.7 1.3-1.5 2.2-1.5s1.6.8 2.2 1.5c.6.7 1.1 1.2 1.8 1.2s1-.4 1-1V9c0-3.3-2.7-6-6-6z'/%3E%3Ccircle cx='9' cy='10' r='1.5' fill='%23000'/%3E%3Ccircle cx='15' cy='10' r='1.5' fill='%23000'/%3E%3C/svg%3E") 12 12, pointer;
}

:root[data-theme="spooky"] .ghosts-layer{
  position: fixed;
  inset: 0;
  pointer-events: none;  
  z-index: 0;             
}

.ghost{
  position: absolute;
  width: 40px;
  height: 40px;
  background-repeat: no-repeat;
  background-size: contain;
  opacity: .85;
  filter: drop-shadow(0 2px 2px rgba(0,0,0,.25));
  animation: ghost-wiggle 2.8s ease-in-out infinite;
}


.ghost{
  background-image: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='48' height='48' viewBox='0 0 24 24'%3E%3Cpath fill='%23fff' stroke='%23000' stroke-width='1' d='M12 3c-3.3 0-6 2.7-6 6v9c0 .6.4 1 1 1 .8 0 1.2-.6 1.8-1.2.6-.7 1.3-1.5 2.2-1.5s1.6.8 2.2 1.5c.6.7 1.1 1.2 1.8 1.2s1-.4 1-1V9c0-3.3-2.7-6-6-6z'/%3E%3Ccircle cx='9' cy='10' r='1.5' fill='%23000'/%3E%3Ccircle cx='15' cy='10' r='1.5' fill='%23000'/%3E%3C/svg%3E");
}

@keyframes ghost-wiggle{
  0%,100% { transform: rotate(-3deg); }
  50%     { transform: rotate( 3deg); }
}

@media (prefers-reduced-motion: reduce){
  .ghost{ animation: none; }
}